<div class="team-sidebar" 
     [class.team-management-mode]="viewMode === 'team-management'"
     [class.inside-card]="insideCard">
  <!-- Team Header -->
  <div class="sidebar-header">
    <h2 class="team-name">{{ teamName }}</h2>
    <div class="season-dates">
      <span class="date-label">Temporada:</span>
      <span class="date-range">
        {{ seasonDates.start | date: 'dd/MM/yyyy' }} - {{ seasonDates.end | date: 'dd/MM/yyyy' }}
      </span>
    </div>
  </div>

  <!-- Season Points Section -->
  <div class="sidebar-section season-points">
    <h3 class="section-title">
      <i class="metric-icon ri-star-fill"></i>
      Pontos da Temporada
    </h3>
    
    <div class="metric-card">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-star-fill"></i>
          Total
          <c4u-info-button infoKey="pontos-total" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="total-points">
          {{ seasonPoints.total | numberFormat }}
        </span>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-lock-fill"></i>
          Bloqueados
          <c4u-info-button infoKey="bloqueados" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="bloqueados-points">
          {{ seasonPoints.bloqueados | numberFormat }}
        </span>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-lock-unlock-fill"></i>
          Desbloqueados
          <c4u-info-button infoKey="desbloqueados" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="desbloqueados-points">
          {{ seasonPoints.desbloqueados | numberFormat }}
        </span>
      </div>
    </div>

    <div class="metric-card" *ngIf="viewMode === 'team-management' && averagePoints > 0">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-graph-up-line"></i>
          Média de Pontos
          <c4u-info-button infoKey="media-pontos" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="average-points">
          {{ averagePoints | numberFormat }}
        </span>
      </div>
    </div>
  </div>

  <!-- Progress Metrics Section -->
  <div class="sidebar-section progress-metrics">
    <h3 class="section-title">
      <i class="metric-icon ri-graph-up-line"></i>
      Métricas de Progresso
    </h3>
    
    <div class="metric-card">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-hourglass-line"></i>
          Processos Incompletos
          <c4u-info-button infoKey="processos-incompletos" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="processos-incompletos">
          {{ progressMetrics.processosIncompletos | numberFormat }}
        </span>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-checkbox-circle-line"></i>
          Atividades Finalizadas
          <c4u-info-button infoKey="tarefas-finalizadas" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="atividades-finalizadas">
          {{ progressMetrics.atividadesFinalizadas | numberFormat }}
        </span>
      </div>
    </div>

    <div class="metric-card">
      <div class="metric-item">
        <span class="metric-label">
          <i class="metric-icon ri-check-double-line"></i>
          Processos Finalizados
          <c4u-info-button infoKey="processos-finalizados" position="top"></c4u-info-button>
        </span>
        <span class="metric-value" data-testid="processos-finalizados">
          {{ progressMetrics.processosFinalizados | numberFormat }}
        </span>
      </div>
    </div>
  </div>
</div>
