<div class="process-accordion-container">
  <div 
    *ngFor="let process of processes; let i = index" 
    class="process-section"
  >
    <!-- Process Header - Figma Design -->
    <div 
      class="process-header"
      [class.expanded]="process.expanded"
      (click)="toggleProcess(i)"
      (keydown.enter)="toggleProcess(i)"
      (keydown.space)="toggleProcess(i); $event.preventDefault()"
      tabindex="0"
      role="button"
      [attr.aria-expanded]="process.expanded"
      [attr.aria-controls]="'process-content-' + i"
    >
      <span class="process-label">{{ process.name }}</span>
      <div class="process-line"></div>
      <i 
        class="expand-icon" 
        [class.ri-arrow-up-s-line]="process.expanded"
        [class.ri-arrow-down-s-line]="!process.expanded"
      ></i>
    </div>

    <!-- Process Content - Task List -->
    <div 
      *ngIf="process.expanded"
      class="process-content"
      [id]="'process-content-' + i"
      role="region"
      [attr.aria-labelledby]="'process-header-' + i"
    >
      <div *ngIf="!process.tasks || process.tasks.length === 0" class="no-tasks">
        Nenhuma tarefa dispon√≠vel
      </div>
      
      <div 
        *ngFor="let task of process.tasks || []" 
        class="task-item"
      >
        <div class="task-info">
          <span class="task-name">{{ task.name }}</span>
          <span class="task-responsible">{{ task.responsible }}</span>
        </div>
        <span class="task-status">{{ getStatusLabel(task.status) }}</span>
      </div>
    </div>
  </div>
</div>
